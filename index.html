function clearForm() {
      document.getElementById('postAuthor').value = '';
      document.getElementById('postTitle').value = '';<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3학년 2반 게시판</title>
  <style>
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
      margin: 0; 
      padding: 0; 
      min-height: 100vh;
    }
    header { 
      background: rgba(255,255,255,0.1); 
      backdrop-filter: blur(10px);
      color: white; 
      padding: 1.5rem; 
      text-align: center; 
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    header h1 { margin: 0; font-size: 2rem; }
    main { 
      max-width: 900px; 
      margin: 2rem auto; 
      padding: 1rem; 
    }
    
    /* 새 글쓰기 폼 */
    .write-form {
      background: white;
      padding: 2rem;
      border-radius: 15px;
      margin-bottom: 2rem;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      display: none;
    }
    .write-form.active { display: block; }
    .form-group { margin-bottom: 1rem; }
    .form-group label { 
      display: block; 
      margin-bottom: 0.5rem; 
      font-weight: bold; 
      color: #333;
    }
    .form-group input, .form-group textarea { 
      width: 100%; 
      padding: 0.8rem; 
      border: 2px solid #e1e5e9;
      border-radius: 8px; 
      font-size: 1rem;
      transition: border-color 0.3s;
    }
    .form-group input:focus, .form-group textarea:focus {
      outline: none;
      border-color: #667eea;
    }
    .form-group textarea { resize: vertical; min-height: 100px; }
    
    /* 버튼 스타일 */
    .btn {
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: bold;
      transition: all 0.3s;
      margin-right: 0.5rem;
    }
    .btn-primary {
      background: #667eea;
      color: white;
    }
    .btn-primary:hover {
      background: #5a6fd8;
      transform: translateY(-2px);
    }
    .btn-secondary {
      background: #6c757d;
      color: white;
    }
    .btn-secondary:hover {
      background: #5a6268;
    }
    .btn-write {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #667eea;
      color: white;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      transition: all 0.3s;
      z-index: 1000;
    }
    .btn-write:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }
    
    /* 검색 및 필터 */
    .controls {
      background: white;
      padding: 1.5rem;
      border-radius: 15px;
      margin-bottom: 2rem;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      align-items: center;
    }
    .search-box {
      flex: 1;
      min-width: 200px;
      padding: 0.8rem;
      border: 2px solid #e1e5e9;
      border-radius: 8px;
      font-size: 1rem;
    }
    .search-box:focus {
      outline: none;
      border-color: #667eea;
    }
    
    /* 게시글 스타일 */
    .post { 
      background: white; 
      padding: 2rem; 
      border-radius: 15px; 
      margin-bottom: 1.5rem; 
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .post:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    .post h3 { 
      margin-top: 0; 
      color: #333;
      font-size: 1.3rem;
    }
    .post-info { 
      font-size: 0.9rem; 
      color: #666; 
      margin-bottom: 1rem;
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }
    .post-content {
      color: #555;
      line-height: 1.6;
      margin-bottom: 1rem;
    }
    .post-actions {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    .post-actions button {
      background: none;
      border: 1px solid #ddd;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s;
    }
    .post-actions button:hover {
      background: #f8f9fa;
      border-color: #667eea;
      color: #667eea;
    }
    .like-btn.liked {
      background: #e3f2fd;
      color: #1976d2;
      border-color: #1976d2;
    }
    
    /* 댓글 섹션 */
    .comments {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid #eee;
      display: none;
    }
    .comments.show { display: block; }
    .comment {
      background: #f8f9fa;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 0.5rem;
    }
    .comment-author {
      font-weight: bold;
      color: #667eea;
      margin-bottom: 0.5rem;
    }
    
    /* 카테고리 버튼 */
    .category-btn {
      background: rgba(255,255,255,0.3);
      color: #667eea;
      border: 2px solid #667eea;
      font-weight: bold;
    }
    .category-btn.active {
      background: #667eea;
      color: white;
    }
    .category-btn:hover {
      background: #667eea;
      color: white;
      transform: translateY(-2px);
    }
    @media (max-width: 768px) {
      main { margin: 1rem; padding: 0.5rem; }
      .controls { flex-direction: column; align-items: stretch; }
      .search-box { min-width: auto; }
      .btn-write { bottom: 1rem; right: 1rem; }
    }
    
    /* 애니메이션 */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .post {
      animation: fadeInUp 0.6s ease-out;
    }
  </style>
</head>
<body>
  <header>
    <h1>🏫 3학년 2반 게시판</h1>
    <p>우리 반의 소통 공간입니다 ✨</p>
  </header>
  
  <!-- 새 글쓰기 폼 -->
  <main>
    <div class="write-form" id="writeForm">
      <h2>✏️ 새 글쓰기</h2>
      <div class="form-group">
        <label for="postAuthor">작성자</label>
        <input type="text" id="postAuthor" placeholder="이름을 입력하세요">
      </div>
      <div class="form-group">
        <label for="postCategory">카테고리</label>
        <select id="postCategory" style="width: 100%; padding: 0.8rem; border: 2px solid #e1e5e9; border-radius: 8px; font-size: 1rem;">
          <option value="공지사항">📢 공지사항</option>
          <option value="스터디">📚 스터디</option>
          <option value="행사">🎉 행사</option>
          <option value="자유게시판" selected>💬 자유게시판</option>
        </select>
      </div>
      <div class="form-group">
        <label for="postTitle">제목</label>
        <input type="text" id="postTitle" placeholder="제목을 입력하세요">
      </div>
      <div class="form-group">
        <label for="postContent">내용</label>
        <textarea id="postContent" placeholder="내용을 입력하세요"></textarea>
      </div>
      <button class="btn btn-secondary" onclick="closeWriteForm()">❌ 취소</button>
    </div>
    
    <!-- 카테고리 및 검색 필터 -->
    <div class="controls">
      <input type="text" class="search-box" id="searchBox" placeholder="🔍 게시글 검색..." onkeyup="searchPosts()">
      <button class="btn btn-primary category-btn active" onclick="filterByCategory('전체')">📋 전체</button>
      <button class="btn btn-primary category-btn" onclick="filterByCategory('공지사항')">📢 공지사항</button>
      <button class="btn btn-primary category-btn" onclick="filterByCategory('스터디')">📚 스터디</button>
      <button class="btn btn-primary category-btn" onclick="filterByCategory('행사')">🎉 행사</button>
      <button class="btn btn-primary category-btn" onclick="filterByCategory('자유게시판')">💬 자유게시판</button>
    </div>
    
    <!-- 게시글 컨테이너 -->
    <div id="postsContainer">
      <!-- 게시글이 JS로 생성됩니다 -->
    </div>
    
    <!-- 글쓰기 버튼 -->
    <button class="btn-write" onclick="openWriteForm()" title="새 글쓰기">✏️</button>
  </main>

  <script>
    // 게시글 데이터 (메모리에 저장)
    let allPosts = [
      { 
        id: 1,
        title: "새학기 환영파티 안내", 
        content: "3월 15일 오후 2시, 교실에서 진행됩니다. 간단한 게임과 간식이 준비될 예정이니 많은 참여 부탁드려요!", 
        author: "홍길동", 
        category: "행사",
        date: "2024-03-10",
        likes: 5,
        comments: [
          { author: "김영희", content: "와! 기대돼요 🎉" },
          { author: "박철수", content: "간식은 뭐가 나오나요?" }
        ]
      },
      { 
        id: 2,
        title: "수학 스터디 모집", 
        content: "매주 화, 목 방과 후 진행합니다. 함께 수학 문제를 풀고 서로 도와가며 공부해요!", 
        author: "김영희", 
        category: "스터디",
        date: "2024-03-09",
        likes: 3,
        comments: [
          { author: "이민수", content: "참여하고 싶어요!" }
        ]
      },
      { 
        id: 3,
        title: "체육대회 준비위원회", 
        content: "4월 체육대회 준비위원을 모집합니다. 관심 있는 분은 댓글로 신청해주세요!", 
        author: "박철수", 
        category: "행사",
        date: "2024-03-08",
        likes: 8,
        comments: []
      },
      { 
        id: 4,
        title: "중간고사 일정 안내", 
        content: "4월 20일부터 25일까지 중간고사가 실시됩니다. 시간표는 추후 공지하겠습니다.", 
        author: "담임선생님", 
        category: "공지사항",
        date: "2024-03-12",
        likes: 12,
        comments: [
          { author: "전학생", content: "감사합니다!" }
        ]
      },
      { 
        id: 5,
        title: "영어 회화 스터디 함께해요", 
        content: "원어민과 함께하는 영어 회화 스터디원을 모집합니다. 매주 월, 수 점심시간!", 
        author: "이영수", 
        category: "스터디",
        date: "2024-03-11",
        likes: 7,
        comments: []
      },
      { 
        id: 6,
        title: "점심시간 축구 같이 해요!", 
        content: "매일 점심시간마다 운동장에서 축구하실 분 구해요. 초보도 환영합니다!", 
        author: "축구왕", 
        category: "자유게시판",
        date: "2024-03-07",
        likes: 4,
        comments: [
          { author: "김민준", content: "저도 참여하고 싶어요!" },
          { author: "박지민", content: "초보인데 괜찮나요?" }
        ]
      }
    ];
    
    let currentCategory = '전체'; // 현재 선택된 카테고리
    let likedPosts = new Set(); // 좋아요 누른 게시글 추적
    let postIdCounter = 7; // 새 게시글 ID 카운터
    
    // 카테고리 이모지 맵핑
    const categoryEmojis = {
      '공지사항': '📢',
      '스터디': '📚',
      '행사': '🎉',
      '자유게시판': '💬'
    };
    
    const container = document.getElementById('postsContainer');
    
    // 게시글 렌더링
    function renderPosts(posts = null) {
      let postsToRender;
      
      if (posts) {
        postsToRender = posts;
      } else {
        // 카테고리별 필터링
        if (currentCategory === '전체') {
          postsToRender = [...allPosts].sort((a, b) => new Date(b.date) - new Date(a.date));
        } else {
          postsToRender = allPosts
            .filter(post => post.category === currentCategory)
            .sort((a, b) => new Date(b.date) - new Date(a.date));
        }
      }
      
      container.innerHTML = postsToRender.map(post => `
        <div class="post" data-post-id="${post.id}">
          <div class="post-info">
            <span>${categoryEmojis[post.category]} ${post.category}</span>
            <span>📅 ${post.date}</span>
            <span>👤 ${post.author}</span>
            <span>❤️ ${post.likes}개</span>
            <span>💬 ${post.comments.length}개</span>
          </div>
          <h3>${post.title}</h3>
          <div class="post-content">${post.content}</div>
          <div class="post-actions">
            <button class="like-btn ${likedPosts.has(post.id) ? 'liked' : ''}" onclick="toggleLike(${post.id})">
              ${likedPosts.has(post.id) ? '❤️' : '🤍'} 좋아요
            </button>
            <button onclick="toggleComments(${post.id})">💬 댓글</button>
            <button onclick="deletePost(${post.id})">🗑️ 삭제</button>
          </div>
          <div class="comments" id="comments-${post.id}">
            ${post.comments.map(comment => `
              <div class="comment">
                <div class="comment-author">${comment.author}</div>
                <div>${comment.content}</div>
              </div>
            `).join('')}
            <div style="margin-top: 1rem;">
              <input type="text" placeholder="댓글을 입력하세요..." id="comment-input-${post.id}" style="width: 70%; padding: 0.5rem; margin-right: 0.5rem; border: 1px solid #ddd; border-radius: 4px;">
              <button class="btn btn-primary" onclick="addComment(${post.id})" style="padding: 0.5rem 1rem;">댓글 작성</button>
            </div>
          </div>
        </div>
      `).join('');
    }
    
    // 글쓰기 폼 열기/닫기
    function openWriteForm() {
      document.getElementById('writeForm').classList.add('active');
      document.getElementById('postAuthor').focus();
    }
    
    function closeWriteForm() {
      document.getElementById('writeForm').classList.remove('active');
      clearForm();
    }
    
    function clearForm() {
      document.getElementById('postAuthor').value = '';
      document.getElementById('postTitle').value = '';
      document.getElementById('postContent').value = '';
    }
    
    // 새 게시글 작성
    function submitPost() {
      const author = document.getElementById('postAuthor').value.trim();
      const title = document.getElementById('postTitle').value.trim();
      const content = document.getElementById('postContent').value.trim();
      
      if (!author || !title || !content) {
        alert('모든 필드를 입력해주세요!');
        return;
      }
      
      const newPost = {
        id: postIdCounter++,
        title,
        content,
        author,
        date: new Date().toISOString().split('T')[0],
        likes: 0,
        comments: []
      };
      
      allPosts.unshift(newPost); // 맨 위에 추가
      renderPosts();
      closeWriteForm();
      
      // 새 글 작성 완료 알림
      alert('✅ 글이 성공적으로 작성되었습니다!');
    }
    
    // 좋아요 토글
    function toggleLike(postId) {
      const post = allPosts.find(p => p.id === postId);
      if (likedPosts.has(postId)) {
        likedPosts.delete(postId);
        post.likes--;
      } else {
        likedPosts.add(postId);
        post.likes++;
      }
      renderPosts();
    }
    
    // 댓글 토글
    function toggleComments(postId) {
      const commentsDiv = document.getElementById(`comments-${postId}`);
      commentsDiv.classList.toggle('show');
    }
    
    // 댓글 추가
    function addComment(postId) {
      const input = document.getElementById(`comment-input-${postId}`);
      const commentText = input.value.trim();
      
      if (!commentText) {
        alert('댓글을 입력해주세요!');
        return;
      }
      
      const author = prompt('댓글 작성자 이름을 입력하세요:');
      if (!author) return;
      
      const post = allPosts.find(p => p.id === postId);
      post.comments.push({
        author: author.trim(),
        content: commentText
      });
      
      input.value = '';
      renderPosts();
      
      // 댓글 섹션 열어두기
      setTimeout(() => {
        document.getElementById(`comments-${postId}`).classList.add('show');
      }, 100);
    }
    
    // 게시글 삭제
    function deletePost(postId) {
      if (confirm('정말로 이 게시글을 삭제하시겠습니까?')) {
        allPosts = allPosts.filter(p => p.id !== postId);
        likedPosts.delete(postId);
        renderPosts();
        alert('✅ 게시글이 삭제되었습니다.');
      }
    }
    
    // 검색 기능
    function searchPosts() {
      const searchTerm = document.getElementById('searchBox').value.toLowerCase();
      const filteredPosts = allPosts.filter(post => 
        post.title.toLowerCase().includes(searchTerm) ||
        post.content.toLowerCase().includes(searchTerm) ||
        post.author.toLowerCase().includes(searchTerm)
      );
      renderPosts(filteredPosts);
    }
    
    // 정렬 기능
    function sortPosts(criteria) {
      let sortedPosts = [...allPosts];
      
      if (criteria === 'date') {
        sortedPosts.sort((a, b) => new Date(b.date) - new Date(a.date));
      } else if (criteria === 'title') {
        sortedPosts.sort((a, b) => a.title.localeCompare(b.title));
      }
      
      renderPosts(sortedPosts);
    }
    
    // Enter 키로 폼 제출
    document.getElementById('postContent').addEventListener('keydown', function(e) {
      if (e.ctrlKey && e.key === 'Enter') {
        submitPost();
      }
    });
    
    // 초기 렌더링
    renderPosts();
  </script>
</body>
</html>
